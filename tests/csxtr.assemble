cxstr start 0                                                                   
cxstr amode any                                                                 
cxstr rmode any                                                                 
 using *,15                                                                     
 punch '* *Testcase csxtr &sysdatc &systime'                                    
 punch '* sysclear'                                                             
 punch '* archlvl z'                                                            
 org cxstr+x'140' SVC old                                                       
svcold ds 2d                                                                    
 org cxstr+x'1a0' Restart new                                                   
 dc x'0001000180000000',ad(go)                                                  
 org cxstr+x'1c0' SVC new                                                       
 dc x'0002000180000000',ad(0)                                                   
 org cxstr+x'1d0' Program new                                                   
 dc x'0002000180000000',ad(0)                                                   
 org cxstr+x'200'                                                               
go ds 0h                                                                        
 LD 0,=LD'1234567890123456789012345678901234' 34 digits                         
 LD 2,=LD'1234567890123456789012345678901234'                                   
 CSXTR 4,0,0 Convert 31 signed digits to (GG3,GG4)                              
 STMG 4,5,reg45 Store low-order 31 digits and sign                              
 SRXT 0,0,31 Shift, keeping 3 high-order digits                                 
 CUXTR 4,0 Convert 3 unsigned digits                                            
 STH 5,Packed Store remaining 3 digits                                          
 ltr 14,14                                                                      
 bnzr 14                                                                        
 svc 255                                                                        
 org cxstr+x'300'                                                               
reg45 ds 2d                                                                     
Packed ds h Packed digits and sign Figure 455.                                  
 ltorg                                                                          
 punch '* runtest .1'                                                           
 punch '* r 300.10'                                                             
 punch '* *Want 45678901 23452302 01382834 1780165C'                            
 punch '* r 310.2'                                                              
 punch '* *Want 0123'                                                           
 punch '* *Done'                                                                
 end                                                                            
