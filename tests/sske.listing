1                               High Level Assembler Option Summary                                             Page    1
-                                                                                           jHLASM 1.0   2015/10/08 17.18
0  No Overriding ASMAOPT Parameters                                                                                      
   No Overriding Parameters                                                                                              
   No Process Statements                                                                                                 
                                                                                                                         
                                                                                                                         
   Options for this Assembly                                                                                             
0  NOADATA                                                                                                               
     ALIGN                                                                                                               
   NOASA                                                                                                                 
     BATCH                                                                                                               
     CODEPAGE(047C)                                                                                                      
   NOCOMPAT                                                                                                              
   NODBCS                                                                                                                
   NODECK                                                                                                                
     DXREF                                                                                                               
     ESD                                                                                                                 
   NOEXIT                                                                                                                
     FLAG(0,ALIGN,CONT,EXLITW,NOIMPLEN,NOPAGE0,PUSH,RECORD,NOSUBSTR,USING0)                                              
   NOFOLD                                                                                                                
   NOGOFF                                                                                                                
   NOINFO                                                                                                                
     LANGUAGE(EN)                                                                                                        
   NOLIBMAC                                                                                                              
     LINECOUNT(60)                                                                                                       
     LIST(121)                                                                                                           
     MACHINE(,NOLIST)                                                                                                    
     MXREF(SOURCE)                                                                                                       
     OBJECT                                                                                                              
     OPTABLE(UNI,NOLIST)                                                                                                 
   NOPCONTROL                                                                                                            
   NOPESTOP                                                                                                              
   NOPROFILE                                                                                                             
   NORA2                                                                                                                 
   NORENT                                                                                                                
     RLD                                                                                                                 
     RXREF                                                                                                               
     SECTALGN(8)                                                                                                         
     SIZE(MAX)                                                                                                           
   NOSUPRWARN                                                                                                            
     SYSPARM()                                                                                                           
   NOTERM                                                                                                                
   NOTEST                                                                                                                
     THREAD                                                                                                              
   NOTRANSLATE                                                                                                           
     TYPECHECK(MAGNITUDE,REGISTER)                                                                                       
     USING(NOLIMIT,MAP,WARN(15))                                                                                         
   NOWORKFILE                                                                                                            
     XREF(SHORT,UNREFS)                                                                                                  
                                                                                                                         
   No Overriding DD Names                                                                                                
1                                              External Symbol Dictionary                                       Page    2
-Symbol   Type   Id     Address  Length   Owner Id Flags Alias-of                           jHLASM 1.0   2015/10/08 17.18
0SSKE      SD 00000001 00000000 000041E0             00                                                                  
1                                                                                                               Page    3
   Active Usings: None                                                                                                   
0  Loc    Object Code      Addr1    Addr2    Stmt  Source Statement                         jHLASM 1.0   2015/10/08 17.18
0                                               1 * Set storage key extended test case.                                   00010000
0                                               3 * This file was put into the public domain 2015-10-05                   00020000
                                                4 * by John P. Hartmann.  You can use it for anything you like,           00030000
                                                5 * as long as this notice remains.                                       00040000
0                                               7 * We load code at x'200' unless prefixing is indicated, in which       
                                                8 * case we load at x'2000'                                              
0                                              10  macro                                                                 
                                               11  supsws &problem=0,&prefix=no                                          
                                               12 &havepx setb ('&prefix' eq 'yes')                                      
                                               13 &org(1) setc 'x''200''','x''2000'''                                    
                                               14  org sske+x'1a0'                                                        00090000
                                               15  dc x'000&problem.000180000000'                                         00100000
                                               16  dc ad(&org(&havepx+1))                                                 00110000
                                               17  org sske+x'1d0'                                                        00120000
                                               18  dc x'0002000180000000'                                                 00130000
                                               19  dc ad(x'deaddead') Program new PSW                                     00140000
                                               20  aif (&havepx).px                                                      
                                               21  org &sysect+x'200'                                                     00150000
                                               22  using &sysect,0                                                       
                                               23  mexit                                                                 
                                               24 .px anop                                                               
                                               25  org &sysect+x'41d0'                                                    00120000
                                               26  dc x'0002000180000000'                                                 00130000
                                               27  dc ad(x'deadbeaf') Program new PSW in prefix                           00140000
                                               28  org &sysect+x'2000' Get out of the prefix page                        
                                               29  drop 0                                                                
                                               30  basr 12,0                                                             
                                               31  using *,12                                                            
                                               32  spx =a(x'4000') Load prefix                                           
                                               33 .x mend                                                                
0                                              35  macro                                                                 
                                               36  stop &rc=0                                                            
                                               37  lpswe psw&sysndx                                                      
                                               38 psw&sysndx dc 0d,x'0002000180000000',ad(&rc)                           
                                               39  ltorg                                                                 
                                               40  mend                                                                  
0                                              42 * Test for instruction being privileged                                
0                                              44  punch ':test sske#1'                                                   00050000
                                               45  punch ':btst z'                                                        00060000
 00000000                00000000 000041E0     46 sske start 0                                                            00070000
                                               47  supsws problem=1                                                      
 00000000                00000000 000001A0     48+ org sske+x'1a0'                                                        01-00000014
 000001A0 0001000180000000                     49+ dc x'0001000180000000'                                                 01-00000015
 000001A8 0000000000000200                     50+ dc ad(x'200')                                                          01-00000016
 000001B0                000001B0 000001D0     51+ org sske+x'1d0'                                                        01-00000017
 000001D0 0002000180000000                     52+ dc x'0002000180000000'                                                 01-00000018
 000001D8 FFFFFFFFDEADDEAD                     53+ dc ad(x'deaddead') Program new PSW                                     01-00000019
 000001E0                000001E0 00000200     54+ org sske+x'200'                                                        01-00000021
                     R:0 00000000              55+ using sske,0                                                           01-00000022
1                                                                                                               Page    4
   Active Usings: SSKE,R0                                                                                                
0  Loc    Object Code      Addr1    Addr2    Stmt  Source Statement                         jHLASM 1.0   2015/10/08 17.18
000000200                                      56 go ds 0h =x'200'                                                       
 00000200 A728 2004               00002004     57  lhi 2,x'2004'  Starting address                                        00170000
 00000204 A738 00F0               000000F0     58  lhi 3,x'f0'                                                            00180000
 00000208 B22B 0032                            59  sske 3,2                                                               00190000
                                               60  stop rc=x'bad'                                                         00200000
 0000020C B2B2 0210      00000210              61+ lpswe psw0002                                                          01-00000037
 00000210 0002000180000000                     62+psw0002    dc 0d,x'0002000180000000',ad(x'bad')                         01-00000038
 00000220                                      63+ ltorg                                                                  01-00000039
                                               64  punch '* *Program 0002' Expect program check                           00240000
                                               65  punch ':etst 1'                                                        00250000
                                               66  punch '* *Done'                                                        00260000
0                                              68 * Test ability to set a key                                            
                                               69  punch ':test sske#2'                                                   00050000
                                               70  punch ':btst z'                                                        00060000
                                               71  supsws                                                                
 00000220                00000220 000001A0     72+ org sske+x'1a0'                                                        01-00000014
 000001A0 0000000180000000                     73+ dc x'0000000180000000'                                                 01-00000015
 000001A8 0000000000000200                     74+ dc ad(x'200')                                                          01-00000016
 000001B0                000001B0 000001D0     75+ org sske+x'1d0'                                                        01-00000017
 000001D0 0002000180000000                     76+ dc x'0002000180000000'                                                 01-00000018
 000001D8 FFFFFFFFDEADDEAD                     77+ dc ad(x'deaddead') Program new PSW                                     01-00000019
 000001E0                000001E0 00000200     78+ org sske+x'200'                                                        01-00000021
                     R:0 00000000              79+ using sske,0                                                           01-00000022
 00000200                00000200 00000200     80  org go                                                                
 00000200 A728 2004               00002004     81  lhi 2,x'2004'                                                         
 00000204 4130 00F0               000000F0     82  la  3,x'f0'                                                           
 00000208 B22B 0032                            83  SSKE    3,2                                                           
                                               84  stop                                                                  
 0000020C B2B2 0210      00000210              85+ lpswe psw0004                                                          01-00000037
 00000210 0002000180000000                     86+psw0004    dc 0d,x'0002000180000000',ad(0)                              01-00000038
 00000220                                      87+ ltorg                                                                  01-00000039
                                               88  punch ':etst 1'                                                        00250000
                                               89  punch '* *Compare'                                                    
                                               90  punch '* r 2000.8'                                                    
                                               91  punch '* *Key F0'                                                     
                                               92  punch '* gpr'                                                         
                                               93  punch '* *Gpr 2 2004'                                                 
0                                              95 * Test prefixing with single key.                                      
                                               96 * Make the fourth page the prefix.  Note that the prefix is two        
                                               97 * pages                                                                
0                                              99  punch ':btst z' Reset machine                                          00060000
                                              100  supsws prefix=yes                                                     
 00000220                00000220 000001A0    101+ org sske+x'1a0'                                                        01-00000014
 000001A0 0000000180000000                    102+ dc x'0000000180000000'                                                 01-00000015
 000001A8 0000000000002000                    103+ dc ad(x'2000')                                                         01-00000016
 000001B0                000001B0 000001D0    104+ org sske+x'1d0'                                                        01-00000017
 000001D0 0002000180000000                    105+ dc x'0002000180000000'                                                 01-00000018
 000001D8 FFFFFFFFDEADDEAD                    106+ dc ad(x'deaddead') Program new PSW                                     01-00000019
 000001E0                000001E0 000041D0    107+ org sske+x'41d0'                                                       01-00000025
 000041D0 0002000180000000                    108+ dc x'0002000180000000'                                                 01-00000026
 000041D8 FFFFFFFFDEADBEAF                    109+ dc ad(x'deadbeaf') Program new PSW in prefix                           01-00000027
 000041E0                000041E0 00002000    110+ org sske+x'2000'    Get out of the prefix page                         01-00000028
1                                                                                                               Page    5
   Active Usings: None                                                                                                   
0  Loc    Object Code      Addr1    Addr2    Stmt  Source Statement                         jHLASM 1.0   2015/10/08 17.18
0                                             111+ drop 0                                                                 01-00000029
 00002000 0DC0                                112+ basr 12,0                                                              01-00000030
                     R:C 00002002             113+ using *,12                                                             01-00000031
 00002002 B210 C026      00002028             114+ spx =a(x'4000') Load prefix                                            01-00000032
 00002006 A728 1004               00001004    115  lhi 2,x'1004'                                                         
 0000200A 4130 00F0               000000F0    116  la  3,x'f0'                                                           
 0000200E B22B 0032                           117  SSKE    3,2                                                           
                                              118  stop                                                                  
 00002012 B2B2 C016      00002018             119+ lpswe psw0006                                                          01-00000037
 00002016 0000                                                                                                           
 00002018 0002000180000000                    120+psw0006    dc 0d,x'0002000180000000',ad(0)                              01-00000038
 00002028                                     121+ ltorg                                                                  01-00000039
 00002028 00004000                            122                =a(x'4000')                                             
                                              123  punch ':etst 1'                                                        00250000
                                              124  punch '* *Compare'                                                    
                                              125  punch '* r 1000.8' r command displays absolute storage                
                                              126  punch '* *Key 00'                                                     
                                              127  punch '* *Compare'                                                    
                                              128  punch '* r 5000.8'                                                    
                                              129  punch '* *Key F0'                                                     
0                                             131 * Set multiple keys.  Requires 1M page support                         
0                                             133 * Setting  multiple keys without prefixing.  The low 12 bits of       *
                                              134 * R2 should remain unchanged.                                         *
0                                             136  punch ':btst z' Reset machine                                          00060000
                                              137  supsws                                                                
 0000202C                0000202C 000001A0    138+ org sske+x'1a0'                                                        01-00000014
 000001A0 0000000180000000                    139+ dc x'0000000180000000'                                                 01-00000015
 000001A8 0000000000000200                    140+ dc ad(x'200')                                                          01-00000016
 000001B0                000001B0 000001D0    141+ org sske+x'1d0'                                                        01-00000017
 000001D0 0002000180000000                    142+ dc x'0002000180000000'                                                 01-00000018
 000001D8 FFFFFFFFDEADDEAD                    143+ dc ad(x'deaddead') Program new PSW                                     01-00000019
 000001E0                000001E0 00000200    144+ org sske+x'200'                                                        01-00000021
                     R:0 00000000             145+ using sske,0                                                           01-00000022
 00000200 A728 2004               00002004    146  lhi 2,x'2004'  Starting address                                        00170000
 00000204 A738 00F0               000000F0    147  lhi 3,x'f0'                                                            00180000
 00000208 B22B 1032                           148  sske 3,2,1                                                             00190000
                                              149  stop                                                                  
 0000020C B2B2 0210      00000210             150+ lpswe psw0008                                                          01-00000037
 00000210 0002000180000000                    151+psw0008    dc 0d,x'0002000180000000',ad(0)                              01-00000038
 00000220                                     152+ ltorg                                                                  01-00000039
                                              153  punch ':etst 1'                                                        00250000
                                              154  punch '* *Compare'                                                    
                                              155  punch '* r 2000.8' r command displays absolute storage                
                                              156  punch '* *Key F0'                                                     
                                              157  punch '* r 5000.8'                                                    
                                              158  punch '* *Key F0'                                                     
                                              159  punch '* r ff000.8'                                                   
                                              160  punch '* *Key F0'                                                     
                                              161  punch '* r 100000.8'                                                  
                                              162  punch '* *Key 00'                                                     
                                              163  punch '* gpr'                                                         
                                              164  punch '* *Gpr 2 100004'                                               
1                                                                                                               Page    6
   Active Usings: SSKE,R0  SSKE+X'2002',R12                                                                              
0  Loc    Object Code      Addr1    Addr2    Stmt  Source Statement                         jHLASM 1.0   2015/10/08 17.18
0                                             166 * Same  with prefixing.  The point being that this variation of       *
                                              167 * the instruction is not subject to prefixing,                        *
0                                             169  punch ':btst z' Reset machine                                          00060000
                                              170  supsws prefix=yes                                                     
 00000220                00000220 000001A0    171+ org sske+x'1a0'                                                        01-00000014
 000001A0 0000000180000000                    172+ dc x'0000000180000000'                                                 01-00000015
 000001A8 0000000000002000                    173+ dc ad(x'2000')                                                         01-00000016
 000001B0                000001B0 000001D0    174+ org sske+x'1d0'                                                        01-00000017
 000001D0 0002000180000000                    175+ dc x'0002000180000000'                                                 01-00000018
 000001D8 FFFFFFFFDEADDEAD                    176+ dc ad(x'deaddead') Program new PSW                                     01-00000019
 000001E0                000001E0 000041D0    177+ org sske+x'41d0'                                                       01-00000025
 000041D0 0002000180000000                    178+ dc x'0002000180000000'                                                 01-00000026
 000041D8 FFFFFFFFDEADBEAF                    179+ dc ad(x'deadbeaf') Program new PSW in prefix                           01-00000027
 000041E0                000041E0 00002000    180+ org sske+x'2000'    Get out of the prefix page                         01-00000028
                                              181+ drop 0                                                                 01-00000029
 00002000 0DC0                                182+ basr 12,0                                                              01-00000030
                     R:C 00002002             183+ using *,12                                                             01-00000031
 00002002 B210 C026      00002028             184+ spx =a(x'4000') Load prefix                                            01-00000032
 00002006 A728 1004               00001004    185  lhi 2,x'1004'  Starting address                                        00170000
 0000200A A738 00F0               000000F0    186  lhi 3,x'f0'                                                            00180000
 0000200E B22B 1032                           187  sske 3,2,1                                                             00190000
                                              188  stop                                                                  
 00002012 B2B2 C016      00002018             189+ lpswe psw0010                                                          01-00000037
 00002016 0000                                                                                                           
 00002018 0002000180000000                    190+psw0010    dc 0d,x'0002000180000000',ad(0)                              01-00000038
 00002028                                     191+ ltorg                                                                  01-00000039
 00002028 00004000                            192                =a(x'4000')                                             
                                              193  punch ':etst 1'                                                        00250000
                                              194  punch '* *Compare'                                                    
                                              195  punch '* r    0.8' r command displays absolute storage                
                                              196  punch '* *Key 06'                                                     
                                              197  punch '* r 1000.8' r command displays absolute storage                
                                              198  punch '* *Key F0'                                                     
                                              199  punch '* r 2000.8' r command displays absolute storage                
                                              200  punch '* *Key F4'                                                     
                                              201  punch '* r 5000.8'                                                    
                                              202  punch '* *Key F0'                                                     
                                              203  punch '* r ff000.8'                                                   
                                              204  punch '* *Key F0'                                                     
                                              205  punch '* r 100000.8'                                                  
                                              206  punch '* *Key 00'                                                     
                                              207  punch '* gpr'                                                         
                                              208  punch '* *Gpr 2 100004'                                               
0                                             210 * Insert more here                                                     
0                                             212  punch '* *Done'                                                        00260000
                                              213  end                                                                    00270000
1                               Ordinary Symbol and Literal Cross Reference                                     Page    7
-Symbol   Length   Value     Id    R Type Asm  Program   Defn References                    jHLASM 1.0   2015/10/08 17.18
0go            2 00000200 00000001     H  H                56   80                                                       
 psw0002       8 00000210 00000001     D  D                62   61                                                       
 psw0004       8 00000210 00000001     D  D                86   85                                                       
 psw0006       8 00002018 00000001     D  D               120  119                                                       
 psw0008       8 00000210 00000001     D  D               151  150                                                       
 psw0010       8 00002018 00000001     D  D               190  189                                                       
 sske          1 00000000 00000001     J                   46   48    51    54    55U   72    75    78    79U  101   104   107   110
                                                               138   141   144   145U  171   174   177   180             
 =a(x'4000')                                                                                                             
               4 00002028 00000001     A                  122  114                                                       
 =a(x'4000')                                                                                                             
               4 00002028 00000001     A                  192  184                                                       
1                                          Macro and Copy Code Source Summary                                   Page    8
- Con Source                                        Volume    Members                       jHLASM 1.0   2015/10/08 17.18
0     PRIMARY INPUT                                           STOP     SUPSWS                                            
1                                                      Using Map                                                Page    9
-                                                                                           jHLASM 1.0   2015/10/08 17.18
   Stmt  -----Location----- Action ----------------Using----------------- Reg Max     Last Label and Using Text          
           Count      Id           Type          Value    Range     Id        Disp    Stmt                               
0    55  00000200  00000001 USING  ORDINARY    00000000 00001000 00000001   0 00210     61 sske,0                        
     79  00000200  00000001 USING  ORDINARY    00000000 00001000 00000001   0 00210     85 sske,0                        
    111  00002000  00000001 DROP                                            0              0                             
    113  00002002  00000001 USING  ORDINARY    00002002 00001000 00000001  12 00026    119 *,12                          
    145  00000200  00000001 USING  ORDINARY    00000000 00001000 00000001   0 00210    150 sske,0                        
    181  00002000  00000001 DROP                                            0              0                             
    183  00002002  00000001 USING  ORDINARY    00002002 00001000 00000001  12 00026    189 *,12                          
1                                   General Purpose Register Cross Reference                                    Page   10
- Register  References (S=set, M=modified, B=branch, U=using, D=drop, N=index)              jHLASM 1.0   2015/10/08 17.18
0    0(0)      55U   79U  111D  145U  181D                                                                               
     1(1)    (no references identified)                                                                                  
     2(2)      57S   59    81S   83   115S  117   146S  148   185S  187                                                  
     3(3)      58S   59M   82S   83M  116S  117M  147S  148M  186S  187M                                                 
     4(4)    (no references identified)                                                                                  
     5(5)    (no references identified)                                                                                  
     6(6)    (no references identified)                                                                                  
     7(7)    (no references identified)                                                                                  
     8(8)    (no references identified)                                                                                  
     9(9)    (no references identified)                                                                                  
    10(A)    (no references identified)                                                                                  
    11(B)    (no references identified)                                                                                  
    12(C)     112S  113U  182S  183U                                                                                     
    13(D)    (no references identified)                                                                                  
    14(E)    (no references identified)                                                                                  
    15(F)    (no references identified)                                                                                  
1                                  Diagnostic Cross Reference and Assembler Summary                             Page   11
-                                                                                           jHLASM 1.0   2015/10/08 17.18
0     No Statements Flagged in this Assembly                                                                             
0John's High Level Assembler Release 1.0, Oct  7 2015 15:59:07                                                           
0System:  Linux release 3.19.0-30-generic on jbox (i686)                                                                 
0Data Sets Allocated for this Assembly                                                                                   
  Con DDname   Data Set Name                                Volume  Member                                               
   P1 SYSIN    sske.assemble                                                                                             
0Assembly Start Time: 17.18.48 Stop Time: 17.18.48 Processor Time: 00.00.00.0213.
 
                                     
 Return Code 000                                                                                                         
